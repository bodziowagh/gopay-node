{"version":3,"sources":["fetch.js"],"names":["camelcase","require","APIError_1","object_1","checkStatus","response","status","Promise","resolve","parseJSON","then","json","APIError","exports","text","transformKeys","JSON","parse"],"mappings":"AAAA;;AACA,IAAMA,YAAYC,QAAQ,WAAR,CAAlB;AACA,IAAMC,aAAaD,QAAQ,oBAAR,CAAnB;AACA,IAAME,WAAWF,QAAQ,UAAR,CAAjB;AACA,SAASG,WAAT,CAAqBC,QAArB,EAA+B;AAC3B,QAAIA,SAASC,MAAT,IAAmB,GAAnB,IAA0BD,SAASC,MAAT,GAAkB,GAAhD,EAAqD;AACjD,eAAOC,QAAQC,OAAR,CAAgBH,QAAhB,CAAP;AACH;AACD,WAAOI,UAAUJ,QAAV,EACFK,IADE,CACG,UAACC,IAAD,EAAU;AAAE,cAAM,IAAIT,WAAWU,QAAf,CAAwBP,SAASC,MAAjC,EAAyCK,IAAzC,CAAN;AAAuD,KADtE,CAAP;AAEH;AACDE,QAAQT,WAAR,GAAsBA,WAAtB;AACA,SAASK,SAAT,CAAmBJ,QAAnB,EAA6B;AACzB,WAAOA,SAASS,IAAT,GACFJ,IADE,CACG,UAACI,IAAD;AAAA,eAAUA,OAAOX,SAASY,aAAT,CAAuBC,KAAKC,KAAL,CAAWH,IAAX,CAAvB,EAAyCd,SAAzC,CAAP,GAA6D,EAAvE;AAAA,KADH,CAAP;AAEH;AACDa,QAAQJ,SAAR,GAAoBA,SAApB","file":"fetch.js","sourcesContent":["\"use strict\";\nconst camelcase = require(\"camelcase\");\nconst APIError_1 = require(\"../errors/APIError\");\nconst object_1 = require(\"./object\");\nfunction checkStatus(response) {\n    if (response.status >= 200 && response.status < 400) {\n        return Promise.resolve(response);\n    }\n    return parseJSON(response)\n        .then((json) => { throw new APIError_1.APIError(response.status, json); });\n}\nexports.checkStatus = checkStatus;\nfunction parseJSON(response) {\n    return response.text()\n        .then((text) => text ? object_1.transformKeys(JSON.parse(text), camelcase) : {});\n}\nexports.parseJSON = parseJSON;\n"]}